(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.measureText=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){exports=module.exports=require("./debug");exports.log=log;exports.formatArgs=formatArgs;exports.save=save;exports.load=load;exports.useColors=useColors;exports.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage();exports.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}exports.formatters.j=function(v){return JSON.stringify(v)};function formatArgs(){var args=arguments;var useColors=this.useColors;args[0]=(useColors?"%c":"")+this.namespace+(useColors?" %c":" ")+args[0]+(useColors?"%c ":" ")+"+"+exports.humanize(this.diff);if(!useColors)return args;var c="color: "+this.color;args=[args[0],c,"color: inherit"].concat(Array.prototype.slice.call(args,1));var index=0;var lastC=0;args[0].replace(/%[a-z%]/g,function(match){if("%%"===match)return;index++;if("%c"===match){lastC=index}});args.splice(lastC,0,c);return args}function log(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(namespaces){try{if(null==namespaces){exports.storage.removeItem("debug")}else{exports.storage.debug=namespaces}}catch(e){}}function load(){var r;try{r=exports.storage.debug}catch(e){}return r}exports.enable(load());function localstorage(){try{return window.localStorage}catch(e){}}},{"./debug":2}],2:[function(require,module,exports){exports=module.exports=debug;exports.coerce=coerce;exports.disable=disable;exports.enable=enable;exports.enabled=enabled;exports.humanize=require("ms");exports.names=[];exports.skips=[];exports.formatters={};var prevColor=0;var prevTime;function selectColor(){return exports.colors[prevColor++%exports.colors.length]}function debug(namespace){function disabled(){}disabled.enabled=false;function enabled(){var self=enabled;var curr=+new Date;var ms=curr-(prevTime||curr);self.diff=ms;self.prev=prevTime;self.curr=curr;prevTime=curr;if(null==self.useColors)self.useColors=exports.useColors();if(null==self.color&&self.useColors)self.color=selectColor();var args=Array.prototype.slice.call(arguments);args[0]=exports.coerce(args[0]);if("string"!==typeof args[0]){args=["%o"].concat(args)}var index=0;args[0]=args[0].replace(/%([a-z%])/g,function(match,format){if(match==="%%")return match;index++;var formatter=exports.formatters[format];if("function"===typeof formatter){var val=args[index];match=formatter.call(self,val);args.splice(index,1);index--}return match});if("function"===typeof exports.formatArgs){args=exports.formatArgs.apply(self,args)}var logFn=enabled.log||exports.log||console.log.bind(console);logFn.apply(self,args)}enabled.enabled=true;var fn=exports.enabled(namespace)?enabled:disabled;fn.namespace=namespace;return fn}function enable(namespaces){exports.save(namespaces);var split=(namespaces||"").split(/[\s,]+/);var len=split.length;for(var i=0;i<len;i++){if(!split[i])continue;namespaces=split[i].replace(/\*/g,".*?");if(namespaces[0]==="-"){exports.skips.push(new RegExp("^"+namespaces.substr(1)+"$"))}else{exports.names.push(new RegExp("^"+namespaces+"$"))}}}function disable(){exports.enable("")}function enabled(name){var i,len;for(i=0,len=exports.skips.length;i<len;i++){if(exports.skips[i].test(name)){return false}}for(i=0,len=exports.names.length;i<len;i++){if(exports.names[i].test(name)){return true}}return false}function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}},{ms:16}],3:[function(require,module,exports){var root=require("./_root");var Symbol=root.Symbol;module.exports=Symbol},{"./_root":8}],4:[function(require,module,exports){function checkGlobal(value){return value&&value.Object===Object?value:null}module.exports=checkGlobal},{}],5:[function(require,module,exports){var stringToArray=require("./_stringToArray"),toString=require("./toString");var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f";var rsZWJ="\\u200d";var reHasComplexSymbol=RegExp("["+rsZWJ+rsAstralRange+rsComboMarksRange+rsComboSymbolsRange+rsVarRange+"]");function createCaseFirst(methodName){return function(string){string=toString(string);var strSymbols=reHasComplexSymbol.test(string)?stringToArray(string):undefined;var chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?strSymbols.slice(1).join(""):string.slice(1);return chr[methodName]()+trailing}}module.exports=createCaseFirst},{"./_stringToArray":9,"./toString":14}],6:[function(require,module,exports){var nativeGetPrototype=Object.getPrototypeOf;function getPrototype(value){return nativeGetPrototype(Object(value))}module.exports=getPrototype},{}],7:[function(require,module,exports){function isHostObject(value){var result=false;if(value!=null&&typeof value.toString!="function"){try{result=!!(value+"")}catch(e){}}return result}module.exports=isHostObject},{}],8:[function(require,module,exports){(function(global){var checkGlobal=require("./_checkGlobal");var objectTypes={"function":true,object:true};var freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType?exports:undefined;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType?module:undefined;var freeGlobal=checkGlobal(freeExports&&freeModule&&typeof global=="object"&&global);var freeSelf=checkGlobal(objectTypes[typeof self]&&self);var freeWindow=checkGlobal(objectTypes[typeof window]&&window);var thisGlobal=checkGlobal(objectTypes[typeof this]&&this);var root=freeGlobal||freeWindow!==(thisGlobal&&thisGlobal.window)&&freeWindow||freeSelf||thisGlobal||Function("return this")();module.exports=root}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./_checkGlobal":4}],9:[function(require,module,exports){var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f\\ufe20-\\ufe23",rsComboSymbolsRange="\\u20d0-\\u20f0",rsVarRange="\\ufe0e\\ufe0f";var rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboMarksRange+rsComboSymbolsRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d";var reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")";var reComplexSymbol=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function stringToArray(string){return string.match(reComplexSymbol)}module.exports=stringToArray},{}],10:[function(require,module,exports){var toString=require("./toString"),upperFirst=require("./upperFirst");function capitalize(string){return upperFirst(toString(string).toLowerCase())}module.exports=capitalize},{"./toString":14,"./upperFirst":15}],11:[function(require,module,exports){function isObjectLike(value){return!!value&&typeof value=="object"}module.exports=isObjectLike},{}],12:[function(require,module,exports){var getPrototype=require("./_getPrototype"),isHostObject=require("./_isHostObject"),isObjectLike=require("./isObjectLike");var objectTag="[object Object]";var objectProto=Object.prototype;var funcToString=Function.prototype.toString;var hasOwnProperty=objectProto.hasOwnProperty;var objectCtorString=funcToString.call(Object);var objectToString=objectProto.toString;function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value)){return false}var proto=getPrototype(value);if(proto===null){return true}var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return typeof Ctor=="function"&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}module.exports=isPlainObject},{"./_getPrototype":6,"./_isHostObject":7,"./isObjectLike":11}],13:[function(require,module,exports){var isObjectLike=require("./isObjectLike");var symbolTag="[object Symbol]";var objectProto=Object.prototype;var objectToString=objectProto.toString;function isSymbol(value){return typeof value=="symbol"||isObjectLike(value)&&objectToString.call(value)==symbolTag}module.exports=isSymbol},{"./isObjectLike":11}],14:[function(require,module,exports){var Symbol=require("./_Symbol"),isSymbol=require("./isSymbol");var INFINITY=1/0;var symbolProto=Symbol?Symbol.prototype:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function toString(value){if(typeof value=="string"){return value}if(value==null){return""}if(isSymbol(value)){return symbolToString?symbolToString.call(value):""}var result=value+"";return result=="0"&&1/value==-INFINITY?"-0":result}module.exports=toString},{"./_Symbol":3,"./isSymbol":13}],15:[function(require,module,exports){var createCaseFirst=require("./_createCaseFirst");var upperFirst=createCaseFirst("toUpperCase");module.exports=upperFirst},{"./_createCaseFirst":5}],16:[function(require,module,exports){var s=1e3;var m=s*60;var h=m*60;var d=h*24;var y=d*365.25;module.exports=function(val,options){options=options||{};if("string"==typeof val)return parse(val);return options.long?long(val):short(val)};function parse(str){str=""+str;if(str.length>1e4)return;var match=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str);if(!match)return;var n=parseFloat(match[1]);var type=(match[2]||"ms").toLowerCase();switch(type){case"years":case"year":case"yrs":case"yr":case"y":return n*y;case"days":case"day":case"d":return n*d;case"hours":case"hour":case"hrs":case"hr":case"h":return n*h;case"minutes":case"minute":case"mins":case"min":case"m":return n*m;case"seconds":case"second":case"secs":case"sec":case"s":return n*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}function short(ms){if(ms>=d)return Math.round(ms/d)+"d";if(ms>=h)return Math.round(ms/h)+"h";if(ms>=m)return Math.round(ms/m)+"m";if(ms>=s)return Math.round(ms/s)+"s";return ms+"ms"}function long(ms){return plural(ms,d,"day")||plural(ms,h,"hour")||plural(ms,m,"minute")||plural(ms,s,"second")||ms+" ms"}function plural(ms,n,name){if(ms<n)return;if(ms<n*1.5)return Math.floor(ms/n)+" "+name;return Math.ceil(ms/n)+" "+name+"s"}},{}],17:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["module","./lib/width","./lib/max-font-size"],factory)}else if(typeof exports!=="undefined"){factory(module,require("./lib/width"),require("./lib/max-font-size"))}else{var mod={exports:{}};factory(mod,global.width,global.maxFontSize);global.index=mod.exports}})(this,function(module,_width,_maxFontSize){"use strict";var _width2=_interopRequireDefault(_width);var _maxFontSize2=_interopRequireDefault(_maxFontSize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}module.exports.width=_width2.default;module.exports.maxFontSize=_maxFontSize2.default})},{"./lib/max-font-size":18,"./lib/width":20}],18:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports","./width","./utils","debug","lodash/isPlainObject"],factory)}else if(typeof exports!=="undefined"){factory(exports,require("./width"),require("./utils"),require("debug"),require("lodash/isPlainObject"))}else{var mod={exports:{}};factory(mod.exports,global.width,global.utils,global.debug,global.isPlainObject);global.maxFontSize=mod.exports}})(this,function(exports,_width,_utils,_debug,_isPlainObject){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=maxFontSize;var _width2=_interopRequireDefault(_width);var _debug2=_interopRequireDefault(_debug);var _isPlainObject2=_interopRequireDefault(_isPlainObject);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var debug=(0,_debug2.default)("measure-text:max-font-size");function maxFontSize(text,options){var el=prop(options,"element");if(!(0,_isPlainObject2.default)(options)){el=options;options={element:el}}options.style=(0,_utils.getStyle)(options);var max=prop(el,"offsetWidth")||prop(options,"width",0);debug("Computing maxFontSize for width: "+max+"px");var size=Math.floor(parseInt(max,10)/3);options["font-size"]=size+"px";var cur=(0,_width2.default)(text,options);if(cur>max&&size>0){while(cur>max){options["font-size"]=size--+"px";cur=(0,_width2.default)(text,options)}debug("Computed: "+size+"px");return size+"px"}else{while(cur<max){options["font-size"]=size++ +"px";cur=(0,_width2.default)(text,options)}size--;debug("Computed: "+size+"px");return size+"px"}}})},{"./utils":19,"./width":20,debug:1,"lodash/isPlainObject":12}],19:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports","lodash/isPlainObject","lodash/capitalize"],factory)}else if(typeof exports!=="undefined"){factory(exports,require("lodash/isPlainObject"),require("lodash/capitalize"))}else{var mod={exports:{}};factory(mod.exports,global.isPlainObject,global.capitalize);global.utils=mod.exports}})(this,function(exports,_isPlainObject,_capitalize){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.getFont=getFont;exports.isCSSStyleDeclaration=isCSSStyleDeclaration;exports.canGetComputedStyle=canGetComputedStyle;exports.getStyle=getStyle;exports.getStyledText=getStyledText;exports.prop=prop;var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _capitalize2=_interopRequireDefault(_capitalize);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getFont(style,options){var font=[];var fontStyle=prop(options,"font-style",style.getPropertyValue("font-style"));if(["normal","italic","oblique"].indexOf(fontStyle)!==-1){font.push(fontStyle)}var fontVariant=prop(options,"font-variant",style.getPropertyValue("font-variant"));if(["normal","small-caps"].indexOf(fontVariant)!==-1){font.push(fontVariant)}var fontWeight=prop(options,"font-weight",style.getPropertyValue("font-weight"));if(["normal","bold","bolder","lighter",100,200,300,400,500,600,700,800,900].indexOf(fontWeight)!==-1){font.push(fontWeight)}var fontSize=prop(options,"font-size",style.getPropertyValue("font-size"));if(/r?em/.test(fontSize)){fontSize=parseInt(fontSize,10)*16+"px"}font.push(fontSize);var fontFamily=prop(options,"font-family",style.getPropertyValue("font-family"));font.push(fontFamily);return font.join(" ")}function isCSSStyleDeclaration(val){return val&&typeof val.getPropertyValue==="function"}function canGetComputedStyle(el){return el&&el.style&&typeof window!=="undefined"&&typeof window.getComputedStyle==="function"}function getStyle(options){if(isCSSStyleDeclaration(options.style)){return options.style}var el=(0,_isPlainObject2.default)(options)?options.element:options;if(canGetComputedStyle(el)){return window.getComputedStyle(el,prop(options,"pseudoElt",null))}return{getPropertyValue:function getPropertyValue(){return""}}}function getStyledText(text,style){switch(style.getPropertyValue("text-transform")){case"uppercase":return text.toUpperCase();case"lowercase":return text.toLowerCase();case"capitalize":return(0,_capitalize2.default)(text);default:return text}}function prop(src,attr,defaultValue){return src&&typeof src[attr]!=="undefined"&&src[attr]||defaultValue}})},{"lodash/capitalize":10,"lodash/isPlainObject":12}],20:[function(require,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports","./utils","lodash/isPlainObject","debug"],factory)}else if(typeof exports!=="undefined"){factory(exports,require("./utils"),require("lodash/isPlainObject"),require("debug"))}else{var mod={exports:{}};factory(mod.exports,global.utils,global.isPlainObject,global.debug);global.width=mod.exports}})(this,function(exports,_utils,_isPlainObject,_debug){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=width;var _isPlainObject2=_interopRequireDefault(_isPlainObject);var _debug2=_interopRequireDefault(_debug);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var debug=(0,_debug2.default)("measure-text:width");try{var ctx=document.createElement("canvas").getContext("2d")}catch(error){debug(error.message||error);throw new Error("Canvas support required")}function width(text,options){var el=(0,_utils.prop)(options,"element");if(!(0,_isPlainObject2.default)(options)){el=options;options={element:el}}var style=(0,_utils.getStyle)(options);var styledText=(0,_utils.getStyledText)(text,style);ctx.font=(0,_utils.prop)(options,"font",null)||(0,_utils.getFont)(style,options);debug("Font declaration:",ctx.font);var metrics=ctx.measureText(styledText);debug(text,metrics.width+"px");return metrics.width}})},{"./utils":19,debug:1,"lodash/isPlainObject":12}]},{},[17])(17)});